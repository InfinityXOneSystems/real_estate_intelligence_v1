/**
 * Comprehensive Keyword Database for Distressed Property Detection
 * 300+ keywords covering financial hardship, foreclosure, divorce, and distress indicators
 */

export const DistressKeywordDatabase = {
  /**
   * FINANCIAL HARDSHIP KEYWORDS (50+)
   */
  financialHardship: [
    // Debt & Credit Issues
    'behind on payments',
    'late payments',
    'payment difficulties',
    'mortgage default',
    'credit issues',
    'debt problems',
    'owing money',
    'owe more than worth',
    'underwater mortgage',
    'negative equity',
    'no equity',
    'deep underwater',
    'creditor calls',
    'debt collection',
    'collection agency',
    'credit score dropped',
    'bad credit',
    'poor credit',

    // Bankruptcy & Insolvency
    'bankruptcy',
    'filed bankruptcy',
    'chapter 7',
    'chapter 13',
    'discharged debt',
    'insolvency',
    'insolvent',
    'unable to pay',
    "can't afford",
    'cannot pay',
    'unaffordable',

    // Income Loss
    'lost job',
    'unemployed',
    'job loss',
    'laid off',
    'income reduction',
    'reduced income',
    'no income',
    'income loss',
    'business closure',
    'business failed',
    'business bankruptcy',
    'struggling financially',
    'financial struggle',
    'money problems',
    'cash flow problem',
    'cash flow issues',
    'liquidity issues',
    'liquid assets',
  ],

  /**
   * FORECLOSURE KEYWORDS (60+)
   */
  foreclosure: [
    // Direct Foreclosure Terms
    'foreclosure',
    'foreclosed',
    'foreclosing',
    'pre-foreclosure',
    'in foreclosure',
    'active foreclosure',
    'foreclosure notice',
    'foreclosure filing',
    'foreclosure process',
    'foreclosure auction',
    'foreclosure sale',
    'foreclosure listing',
    'foreclosed home',
    'foreclosed property',
    'bank owned',
    'bank foreclosure',
    'mortgage foreclosure',
    'home foreclosure',
    'property foreclosure',

    // Legal/Notice Terms
    'default notice',
    'notice of default',
    'notice of intent',
    'lis pendens',
    'deed of trust',
    'trustee sale',
    'power of sale',
    'acceleration clause',
    'default clause',
    'mortgage default',

    // Action/Stage Terms
    'lender selling',
    'must sell',
    'quick sale',
    'immediate sale',
    'urgent sale',
    'distressed sale',
    'forced sale',
    'short sale',
    'short selling',
    'selling below market',
    'below ask',
    'price reduced',
    'price reduction',
    'price drop',
    'marked down',

    // Timeline Pressure
    'ASAP',
    'immediately',
    'urgent',
    'time sensitive',
    'limited time',
    'closing soon',
    'quick closing',
    'fast sale',
    'before auction',
    'before foreclosure closes',
    'days left',
    'weeks left',
    'days to closing',
    'month to close',

    // Lender/Bank Terms
    'bank involvement',
    'lender approval',
    'lender authorized',
    'lender willing',
    'lender approval needed',
    'subject to lender approval',
  ],

  /**
   * DIVORCE & FAMILY KEYWORDS (50+)
   */
  divorce: [
    // Divorce Process
    'divorce',
    'divorced',
    'divorcing',
    'going through divorce',
    'pending divorce',
    'recent divorce',
    'divorce settlement',
    'divorce decree',
    'divorce proceedings',
    'divorce agreement',
    'marital dissolution',
    'dissolution of marriage',
    'separated',
    'separating',
    'separation agreement',
    'estranged',

    // Family Crisis
    'death in family',
    'spouse deceased',
    'passed away',
    'recent death',
    'death of spouse',
    'estate',
    'inherited property',
    'inherited house',
    'probate',
    'will',
    'trust',
    'family inheritance',

    // Custody/Family Related
    'custody battle',
    'custody issues',
    'child support',
    'alimony',
    'spousal support',
    'family issues',
    'family problems',
    'relationship problems',
    'marriage problems',
    'domestic issues',

    // Life Changes
    'major life change',
    'life transition',
    'relocation',
    'relocating',
    'moving out of state',
    'moving out of country',
    'forced to move',
    'need to move',
    'must relocate',
    'overseas assignment',
    'military transfer',
    'military relocation',
    'job transfer',
    'transferred',
  ],

  /**
   * TAX & LIEN KEYWORDS (40+)
   */
  taxAndLiens: [
    // Tax Issues
    'tax lien',
    'tax debt',
    'back taxes',
    'owed taxes',
    'tax liability',
    'IRS lien',
    'IRS claim',
    'tax foreclosure',
    'tax sale',
    'delinquent taxes',
    'unpaid taxes',
    'property tax',
    'property tax delinquent',
    'property tax lien',
    'county tax',

    // Liens
    'lien',
    'liens',
    'mechanics lien',
    'judgment lien',
    'code lien',
    'contractor lien',
    'supplier lien',
    'judgment',
    'lawsuit',
    'sued',
    'lawsuit pending',
    'court judgment',
    'judgment against owner',

    // Code Violations
    'code violation',
    'code violations',
    'building violation',
    'housing violation',
    'code enforcement',
    'violation notice',
    'zoning violation',
    'permit violation',
    'health violation',
  ],

  /**
   * PROPERTY CONDITION KEYWORDS (50+)
   */
  propertyCondition: [
    // Damage/Deterioration
    'needs repair',
    'needs repairs',
    'major repairs needed',
    'expensive repairs',
    'repair cost',
    'fixer upper',
    'fixer-upper',
    'as-is',
    'as is',
    'damaged',
    'property damage',
    'severe damage',
    'water damage',
    'flood damage',
    'fire damage',
    'storm damage',
    'mold',
    'mold damage',
    'mold problem',
    'mold infestation',
    'foundation issues',
    'foundation damage',
    'foundation problems',

    // Specific Issues
    'roof damage',
    'roof leak',
    'leaking roof',
    'electrical issues',
    'plumbing issues',
    'plumbing problems',
    'broken pipes',
    'HVAC problems',
    'heating issues',
    'cooling issues',
    'termites',
    'pest damage',
    'termite damage',
    'rodent damage',
    'structural damage',
    'structural problems',
    'structural issues',

    // Renovation Needs
    'needs renovation',
    'renovation needed',
    'major renovation',
    'complete renovation',
    'kitchen renovation',
    'bathroom renovation',
    'outdated',
    'dated',
    'cosmetic issues',
  ],

  /**
   * MOTIVATION/URGENCY KEYWORDS (40+)
   */
  motivation: [
    // Desperation
    'desperate',
    'desperation',
    'must sell',
    'have to sell',
    'need to sell',
    'forced to sell',
    'willing to negotiate',
    'flexible',
    'flexible price',
    'open to offers',
    'any offer',
    'all offers considered',
    'motivated seller',
    'highly motivated',
    'serious inquiries only',
    'serious offers only',
    'cash offers',
    'cash only',

    // Urgency Markers
    'immediately',
    'ASAP',
    'urgent',
    'urgent sale',
    'time sensitive',
    'time critical',
    'limited window',
    "don't miss",
    "won't last long",
    "won't last",
    'hurry',
    'act fast',
    'quick decision',
    'quick response',
    'negotiate',
    'negotiable',
  ],

  /**
   * COMMERCIAL PROPERTY KEYWORDS (60+)
   */
  commercialProperties: [
    // Commercial Property Types
    'commercial property',
    'commercial real estate',
    'commercial space',
    'retail space',
    'retail property',
    'retail lease',
    'commercial lease',
    'office space',
    'office property',
    'industrial property',
    'industrial space',
    'warehouse',
    'warehouse space',
    'distribution center',
    'flex space',
    'mixed use',
    'multi-use',
    'strip mall',
    'shopping center',
    'mall',
    'plaza',
    'shopping plaza',

    // Business Status
    'business closure',
    'closed business',
    'business failing',
    'business failure',
    'bankruptcy',
    'business bankrupt',
    'business shutting down',
    'cease operations',
    'going out of business',
    'out of business',
    'liquidation',
    'liquidating',
    'business for sale',
    'closing business',
    'relocating business',
    'business relocation',
    'downsizing',
    'restructuring',
    'business pivot',

    // Lease/Rental Issues
    'vacant',
    'vacancy',
    'high vacancy',
    'vacancy rate',
    'low occupancy',
    'low occupancy rate',
    'tenant issues',
    'tenant problems',
    'problem tenants',
    'delinquent tenant',
    'eviction',
    'evicted',
    'tenant default',
    'lease default',
    'broken lease',
    'lease termination',

    // Financial
    'cash flow problems',
    'cash flow negative',
    'negative cash flow',
    'operating at loss',
    'unprofitable',
    'underperforming',
  ],

  /**
   * INVESTOR TARGETING KEYWORDS (70+)
   */
  investorTargeting: [
    // Investment Property Types
    'investment property',
    'rental property',
    'investment opportunity',
    'income property',
    'cash flow',
    'positive cash flow',
    'cash on cash return',
    'cap rate',
    'roi',
    'return on investment',
    'appreciation potential',
    'value-add',
    'value add opportunity',
    'turnaround property',
    'rehab property',
    'distressed property',
    'distressed asset',
    'wholesale property',
    'wholesale opportunity',

    // Investor Profiles
    'real estate investor',
    'property investor',
    'fix and flip',
    'fix-and-flip',
    'flipper',
    'landlord',
    'portfolio',
    'portfolio investor',
    'buy and hold',
    'buy and rent',
    'rental income',
    'passive income',
    'active investor',

    // Deal Types
    'deal',
    'opportunity',
    'hot deal',
    'below market',
    'discount',
    'discounted',
    'good deal',
    'opportunity zone',
    'pocket listing',
    'off-market',
    'off market',
    'private sale',
    'owner financed',
    'owner willing',
    'seller financed',
    'motivated seller',
    'fast close',
    'quick close',
    'all cash',
    'cash required',

    // Market Analysis
    'up and coming neighborhood',
    'revitalization area',
    'gentrification',
    'transitional neighborhood',
    'emerging market',
    'growth market',
    'appreciation area',
    'affordable market',
    'affordable housing',
    'market report',
    'market analysis',
    'investment analysis',
    'undervalued',
    'underpriced',
    'hidden gem',
    'diamond in rough',
  ],

  /**
   * DIVORCE & LEGAL MARKETPLACE KEYWORDS
   */
  divorceMarketplace: [
    'divorce attorney',
    'family law',
    'matrimonial law',
    'divorce mediator',
    'divorce coach',
    'collaborative divorce',
    'contested divorce',
    'divorce settlement',
    'asset division',
    'property division',
    'equitable distribution',
    'community property',
    'alimony',
    'spousal support',
    'child support',
    'custody agreement',
  ],

  /**
   * BANKRUPTCY MARKETPLACE KEYWORDS
   */
  bankruptcyMarketplace: [
    'bankruptcy attorney',
    'bankruptcy lawyer',
    'bankruptcy filing',
    'bankruptcy counsel',
    'chapter 7 attorney',
    'chapter 13 attorney',
    'debt relief',
    'debt negotiation',
    'debt counseling',
    'credit counseling',
    'financial counselor',
    'insolvency expert',
  ],

  /**
   * FORECLOSURE MARKETPLACE KEYWORDS
   */
  foreclosureMarketplace: [
    'foreclosure attorney',
    'foreclosure specialist',
    'foreclosure defense',
    'loan modification',
    'short sale assistance',
    'short sale specialist',
    'foreclosure prevention',
    'mortgage modification',
    'forbearance agreement',
    'loan workout',
    'loss mitigation',
    'HUD counselor',
    'mortgage counseling',
  ],

  /**
   * PROPERTY TAX/LIEN MARKETPLACE
   */
  taxLienMarketplace: [
    'tax attorney',
    'tax specialist',
    'lien resolution',
    'lien removal',
    'IRS representation',
    'tax preparation',
    'tax negotiation',
    'tax settlement',
    'payment plan',
    'installment agreement',
    'currently not collectible',
    'offer in compromise',
  ],

  /**
   * ESTATE/PROBATE MARKETPLACE
   */
  estateMarketplace: [
    'probate attorney',
    'estate attorney',
    'estate planning',
    'trust administration',
    'executor',
    'estate liquidation',
    'probate sale',
    'estate sale',
    'inherited property sale',
    'estate auction',
    'probate inventory',
  ],
};

/**
 * Get all distress keywords combined
 */
export function getAllDistressKeywords(): string[] {
  const allKeywords: string[] = [];

  Object.values(DistressKeywordDatabase).forEach((keywords) => {
    if (Array.isArray(keywords)) {
      allKeywords.push(...keywords);
    }
  });

  return [...new Set(allKeywords)]; // Remove duplicates
}

/**
 * Get keywords by category
 */
export function getKeywordsByCategory(
  category: keyof typeof DistressKeywordDatabase
): string[] {
  return DistressKeywordDatabase[category] || [];
}

/**
 * Search keywords
 */
export function searchKeywords(query: string): string[] {
  const queryLower = query.toLowerCase();
  const allKeywords = getAllDistressKeywords();

  return allKeywords.filter((keyword) =>
    keyword.toLowerCase().includes(queryLower)
  );
}

/**
 * Get keyword statistics
 */
export function getKeywordStats(): Record<string, number> {
  const stats: Record<string, number> = {};

  Object.entries(DistressKeywordDatabase).forEach(([category, keywords]) => {
    if (Array.isArray(keywords)) {
      stats[category] = keywords.length;
    }
  });

  stats.total = getAllDistressKeywords().length;
  return stats;
}

// Export singleton instance
export const distressKeywords = new (class {
  getAll() {
    return getAllDistressKeywords();
  }

  getByCategory(category: keyof typeof DistressKeywordDatabase) {
    return getKeywordsByCategory(category);
  }

  search(query: string) {
    return searchKeywords(query);
  }

  getStats() {
    return getKeywordStats();
  }

  hasKeyword(keyword: string): boolean {
    return this.getAll().some((k) => k.toLowerCase() === keyword.toLowerCase());
  }

  getCategoriesForKeyword(keyword: string): string[] {
    const categories: string[] = [];
    const keywordLower = keyword.toLowerCase();

    Object.entries(DistressKeywordDatabase).forEach(([category, keywords]) => {
      if (
        Array.isArray(keywords) &&
        keywords.some((k) => k.toLowerCase() === keywordLower)
      ) {
        categories.push(category);
      }
    });

    return categories;
  }
})();
